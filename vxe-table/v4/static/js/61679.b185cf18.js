"use strict";(self["webpackChunkvxe_table_v4"]=self["webpackChunkvxe_table_v4"]||[]).push([[61679],{61679:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});n(76801),n(65137),n(60228),n(47522),n(76265),n(6203),n(34338),n(48324),n(50886);var i=n(66252),r=n(2262),o=n(72896),a=n(38478),l=n.n(a),s="https://api.vxetable.cn/demo",c=(0,i.aZ)({__name:"Demo1",setup:function(e){var t=(0,r.iH)(),n=(0,r.qj)({border:!0,showHeaderOverflow:!0,showOverflow:!0,keepSource:!0,id:"full_edit_1",height:600,rowConfig:{keyField:"id",isHover:!0},columnConfig:{resizable:!0},customConfig:{storage:!0,checkMethod:function(e){var t=e.column;return!["nickname","role"].includes(t.field)}},printConfig:{columns:[{field:"name"},{field:"email"},{field:"nickname"},{field:"age"},{field:"amount"}]},sortConfig:{trigger:"cell",remote:!0},filterConfig:{remote:!0},pagerConfig:{pageSize:10,pageSizes:[5,10,15,20,50,100,200,500,1e3]},formConfig:{titleWidth:100,titleAlign:"right",items:[{field:"name",title:"app.body.label.name",span:8,titlePrefix:{message:"app.body.valid.rName",icon:"vxe-icon-question-circle-fill"},itemRender:{name:"$input",props:{placeholder:"请输入名称"}}},{field:"email",title:"邮件",span:8,titlePrefix:{useHTML:!0,message:'点击链接：<a class="link" href="https://vxetable.cn" target="_blank">vxe-table官网</a>',icon:"vxe-icon-question-circle-fill"},itemRender:{name:"$input",props:{placeholder:"请输入邮件"}}},{field:"nickname",title:"昵称",span:8,itemRender:{name:"$input",props:{placeholder:"请输入昵称"}}},{field:"role",title:"角色",span:8,folding:!0,itemRender:{name:"$input",props:{placeholder:"请输入角色"}}},{field:"sex",title:"性别",span:8,folding:!0,titleSuffix:{message:"注意，必填信息！",icon:"vxe-icon-question-circle-fill"},itemRender:{name:"$select",options:[]}},{field:"age",title:"年龄",span:8,folding:!0,itemRender:{name:"$input",props:{type:"number",min:1,max:120,placeholder:"请输入年龄"}}},{span:24,align:"center",collapseNode:!0,itemRender:{name:"$buttons",children:[{props:{type:"submit",content:"app.body.label.search",status:"primary"}},{props:{type:"reset",content:"app.body.label.reset"}}]}}]},toolbarConfig:{buttons:[{code:"insert_actived",name:"新增"},{code:"delete",name:"直接删除"},{code:"mark_cancel",name:"删除/取消"},{code:"save",name:"app.body.button.save",status:"success"}],refresh:!0,import:!0,export:!0,print:!0,zoom:!0,custom:!0},proxyConfig:{seq:!0,sort:!0,filter:!0,form:!0,props:{result:"result",total:"page.total"},ajax:{query:function(e){var t=e.page,n=e.sorts,i=e.filters,r=e.form,o=Object.assign({},r),a=n[0];return a&&(o.sort=a.field,o.order=a.order),i.forEach((function(e){var t=e.field,n=e.values;o[t]=n.join(",")})),fetch("".concat(s,"/api/pub/page/list/").concat(t.pageSize,"/").concat(t.currentPage,"?").concat(l().serialize(o))).then((function(e){return e.json()}))},delete:function(e){var t=e.body;return fetch("".concat(s,"/api/pub/save"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}))},save:function(e){var t=e.body;return fetch("".concat(s,"/api/pub/save"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}))}}},columns:[{type:"checkbox",title:"ID",width:120},{field:"name",title:"Name",sortable:!0,titlePrefix:{message:"名称必须填写！"},editRender:{name:"input",attrs:{placeholder:"请输入名称"}}},{field:"role",title:"Role",sortable:!0,titlePrefix:{useHTML:!0,content:'点击链接：<a class="link" href="https://vxetable.cn" target="_blank">vxe-table官网</a>'},filters:[{label:"前端开发",value:"前端"},{label:"后端开发",value:"后端"},{label:"测试",value:"测试"},{label:"程序员鼓励师",value:"程序员鼓励师"}],filterMultiple:!1,editRender:{name:"input",attrs:{placeholder:"请输入角色"}}},{field:"email",title:"Email",width:160,editRender:{name:"$input",props:{placeholder:"请输入邮件"}}},{field:"nickname",title:"Nickname",editRender:{name:"input",attrs:{placeholder:"请输入昵称"}}},{field:"sex",title:"Sex",filters:[{label:"男",value:"1"},{label:"女",value:"0"}],editRender:{name:"$select",options:[],props:{placeholder:"请选择性别"}}},{field:"age",title:"Age",visible:!1,sortable:!0,editRender:{name:"$input",props:{type:"number",min:1,max:120}}},{field:"amount",title:"Amount",formatter:function(e){var t=e.cellValue;return t?"￥".concat(l().commafy(l().toNumber(t),{digits:2})):""},editRender:{name:"$input",props:{type:"float",digits:2,placeholder:"请输入数值"}}},{field:"updateDate",title:"Update Date",width:160,visible:!1,sortable:!0,formatter:function(e){var t=e.cellValue;return l().toDateString(t,"yyyy-MM-dd HH:ss:mm")}},{field:"createDate",title:"Create Date",width:160,visible:!1,sortable:!0,formatter:function(e){var t=e.cellValue;return l().toDateString(t,"yyyy-MM-dd")}}],importConfig:{remote:!0,types:["xlsx"],modes:["insert"],importMethod:function(e){var n=e.file,i=t.value,r=new FormData;return r.append("file",n),fetch("".concat(s,"/api/pub/import"),{method:"POST",body:r}).then((function(e){return e.json()})).then((function(e){o.s7.modal.message({content:"成功导入 ".concat(e.result.insertRows," 条记录！"),status:"success"}),i&&i.commitProxy("query")})).catch((function(){o.s7.modal.message({content:"导入失败，请检查数据是否正确！",status:"error"})}))}},exportConfig:{remote:!0,types:["xlsx"],modes:["current","selected","all"],exportMethod:function(e){var n=e.options,i=t.value;if(i){var r=i.getProxyInfo(),a={filename:n.filename,sheetName:n.sheetName,isHeader:n.isHeader,original:n.original,mode:n.mode,pager:r?r.pager:null,ids:"selected"===n.mode?n.data.map((function(e){return e.id})):[],fields:n.columns.map((function(e){return{field:e.field,title:e.title}}))};return fetch("".concat(s,"/api/pub/export"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e.id&&(o.s7.modal.message({content:"导出成功，开始下载",status:"success"}),fetch("".concat(s,"/api/pub/export/download/").concat(e.id)).then((function(e){e.blob().then((function(e){o.s7.saveFile({filename:"导出数据",type:"xlsx",content:e})}))})))})).catch((function(){o.s7.modal.message({content:"导出失败！",status:"error"})}))}return Promise.resolve()}},checkboxConfig:{labelField:"id",reserve:!0,highlight:!0,range:!0},editRules:{name:[{required:!0,message:"app.body.valid.rName"},{min:3,max:50,message:"名称长度在 3 到 50 个字符"}],email:[{required:!0,message:"邮件必须填写"}],role:[{required:!0,message:"角色必须填写"}]},editConfig:{trigger:"click",mode:"row",showStatus:!0}}),a={proxyQuery:function(){console.log("数据代理查询事件")},proxyDelete:function(){console.log("数据代理删除事件")},proxySave:function(){console.log("数据代理保存事件")}};return(0,i.bv)((function(){var e=[{label:"女",value:"0"},{label:"男",value:"1"}],t=n.formConfig,i=n.columns;if(i){var r=i[5];r&&r.editRender&&(r.editRender.options=e)}if(t&&t.items){var o=t.items[4];o&&o.itemRender&&(o.itemRender.options=e)}})),function(e,r){var o=(0,i.up)("vxe-grid");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(o,(0,i.dG)({ref_key:"xGrid",ref:t},n,(0,i.mx)(a)),null,16)])}}});const u=c;var d=u},50382:function(e,t,n){var i=n(9015),r=Math.floor,o=function(e,t){var n=e.length,s=r(n/2);return n<8?a(e,t):l(e,o(i(e,0,s),t),o(i(e,s),t),t)},a=function(e,t){var n,i,r=e.length,o=1;while(o<r){i=o,n=e[o];while(i&&t(e[i-1],n)>0)e[i]=e[--i];i!==o++&&(e[i]=n)}return e},l=function(e,t,n,i){var r=t.length,o=n.length,a=0,l=0;while(a<r||l<o)e[a+l]=a<r&&l<o?i(t[a],n[l])<=0?t[a++]:n[l++]:a<r?t[a++]:n[l++];return e};e.exports=o},97365:function(e,t,n){var i=n(30071),r=i.match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},37298:function(e,t,n){var i=n(30071);e.exports=/MSIE|Trident/.test(i)},27922:function(e,t,n){var i=n(30071),r=i.match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},6203:function(e,t,n){var i=n(79989),r=n(68844),o=n(94413),a=n(65290),l=n(16834),s=r([].join),c=o!==Object,u=c||!l("join",",");i({target:"Array",proto:!0,forced:u},{join:function(e){return s(a(this),void 0===e?",":e)}})},65137:function(e,t,n){var i=n(79989),r=n(68844),o=n(10509),a=n(90690),l=n(6310),s=n(98494),c=n(34327),u=n(3689),d=n(50382),f=n(16834),p=n(97365),m=n(37298),h=n(3615),v=n(27922),g=[],b=r(g.sort),y=r(g.push),x=u((function(){g.sort(void 0)})),k=u((function(){g.sort(null)})),C=f("sort"),w=!u((function(){if(h)return h<70;if(!(p&&p>3)){if(m)return!0;if(v)return v<603;var e,t,n,i,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)g.push({k:t+i,v:n})}for(g.sort((function(e,t){return t.v-e.v})),i=0;i<g.length;i++)t=g[i].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}})),R=x||!k||!C||!w,S=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}};i({target:"Array",proto:!0,forced:R},{sort:function(e){void 0!==e&&o(e);var t=a(this);if(w)return void 0===e?b(t):b(t,e);var n,i,r=[],c=l(t);for(i=0;i<c;i++)i in t&&y(r,t[i]);d(r,S(e)),n=l(r),i=0;while(i<n)t[i]=r[i++];while(i<c)s(t,i++);return t}})}}]);