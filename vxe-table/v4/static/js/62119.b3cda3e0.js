"use strict";(self["webpackChunkvxe_table_v4"]=self["webpackChunkvxe_table_v4"]||[]).push([[62119],{62119:function(n,e,t){t.r(e),t.d(e,{default:function(){return s}});t(34284);var o=t(66252),u=t(3577),r={class:"tip"},a=(0,o._)("br",null,null,-1),m=(0,o._)("span",{class:"red"},"（具体请自行实现，该示例仅供参考）",-1),l={class:"demo-code"};function d(n,e,t,d,c,i){var p=(0,o.up)("table-column-api-link"),f=(0,o.up)("vxe-column"),s=(0,o.up)("vxe-input"),v=(0,o.up)("vxe-table"),b=(0,o.up)("pre-code");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("p",r,[(0,o.Uk)(" 通过 "),(0,o.Wm)(p,{prop:"slot"}),(0,o.Uk)("插槽（实时） 或者 "),(0,o.Wm)(p,{prop:"formatter"}),(0,o.Uk)(" 格式化内容（值改变时），自动计算联动的行数据，如果是用原生输入框可以通过添加 "),(0,o.Wm)(p,{prop:"immediate"}),(0,o.Uk)(" 启用实时运算"),a,m]),(0,o.Wm)(v,{border:"","show-overflow":"","show-footer":"","column-config":{resizable:!0},data:n.tableData,"footer-method":n.footerMethod,"edit-config":{trigger:"click",mode:"cell"}},{default:(0,o.w5)((function(){return[(0,o.Wm)(f,{type:"seq",width:"60"}),(0,o.Wm)(f,{field:"name",title:"书名","edit-render":{}},{edit:(0,o.w5)((function(n){var e=n.row;return[(0,o.Wm)(s,{modelValue:e.name,"onUpdate:modelValue":function(n){return e.name=n},type:"text"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,o.Wm)(f,{field:"amount",title:"单价","edit-render":{}},{edit:(0,o.w5)((function(n){var e=n.row;return[(0,o.Wm)(s,{modelValue:e.amount,"onUpdate:modelValue":function(n){return e.amount=n},type:"number"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,o.Wm)(f,{field:"number",title:"数量","edit-render":{}},{edit:(0,o.w5)((function(n){var e=n.row;return[(0,o.Wm)(s,{modelValue:e.number,"onUpdate:modelValue":function(n){return e.number=n},type:"number"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,o.Wm)(f,{title:"总价"},{default:(0,o.w5)((function(e){var t=e.row;return[(0,o._)("span",null,(0,u.zw)(n.countAmount(t))+" 元",1)]})),_:1})]})),_:1},8,["data","footer-method"]),(0,o._)("p",l,(0,u.zw)(n.$t("app.body.button.showCode")),1),(0,o._)("pre",null,[(0,o.Uk)("      "),(0,o.Wm)(b,{class:"xml"},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,u.zw)(n.demoCodes[0]),1)]})),_:1}),(0,o.Uk)("\n      "),(0,o.Wm)(b,{class:"typescript"},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,u.zw)(n.demoCodes[1]),1)]})),_:1}),(0,o.Uk)("\n    ")])])}t(60228),t(47522),t(79288),t(50886);var c=t(2262),i=(0,o.aZ)({setup:function(){var n=(0,c.iH)([{name:"test abc",amount:80,number:5},{name:"JavaScript 权威指南",amount:40,number:3},{name:"Vue 入门到精通",amount:90,number:9},{name:"深入现代 JavaScript 应用开发",amount:60,number:1}]),e=function(n){return n.amount*n.number},t=function(n){var t=0;return n.forEach((function(n){t+=e(n)})),t},o=function(n,e){var t=0;return n.forEach((function(n){t+=Number(n[e])})),t},u=function(n){var e=n.columns,u=n.data;return[e.map((function(n,e){return 0===e?"合计":3===e?"".concat(o(u,"number")," 本"):4===e?"共 ".concat(t(u)," 元"):"-"}))]};return{tableData:n,countAmount:e,footerMethod:u,demoCodes:['\n        <vxe-table\n          border\n          show-overflow\n          show-footer\n          :column-config="{resizable: true}"\n          :data="tableData"\n          :footer-method="footerMethod"\n          :edit-config="{trigger: \'click\', mode: \'cell\'}">\n          <vxe-column type="seq" width="60"></vxe-column>\n          <vxe-column field="name" title="书名" :edit-render="{}">\n            <template #edit="{ row }">\n              <vxe-input v-model="row.name" type="text"></vxe-input>\n            </template>\n          </vxe-column>\n          <vxe-column field="amount" title="单价" :edit-render="{}">\n            <template #edit="{ row }">\n              <vxe-input v-model="row.amount" type="number"></vxe-input>\n            </template>\n          </vxe-column>\n          <vxe-column field="number" title="数量" :edit-render="{}">\n            <template #edit="{ row }">\n              <vxe-input v-model="row.number" type="number"></vxe-input>\n            </template>\n          </vxe-column>\n          <vxe-column title="总价">\n            <template #default="{ row }">\n              <span>{{ countAmount(row) }} 元</span>\n            </template>\n          </vxe-column>\n        </vxe-table>\n        ',"\n        import { defineComponent, ref } from 'vue'\n        import { VxeTablePropTypes } from 'vxe-table'\n\n        export default defineComponent({\n          setup () {\n            const tableData = ref([\n              { name: 'test abc', amount: 80, number: 5 },\n              { name: 'JavaScript 权威指南', amount: 40, number: 3 },\n              { name: 'Vue 入门到精通', amount: 90, number: 9 },\n              { name: '深入现代 JavaScript 应用开发', amount: 60, number: 1 }\n            ])\n\n            const countAmount = (row: any) => {\n              return row.amount * row.number\n            }\n\n            const countAllAmount = (data: any[]) => {\n              let count = 0\n              data.forEach(row => {\n                count += countAmount(row)\n              })\n              return count\n            }\n\n            const sumNum = (list: any[], field: string) => {\n              let count = 0\n              list.forEach(item => {\n                count += Number(item[field])\n              })\n              return count\n            }\n\n            const footerMethod: VxeTablePropTypes.FooterMethod = ({ columns, data }) => {\n              return [\n                columns.map((column, columnIndex) => {\n                  if (columnIndex === 0) {\n                    return '合计'\n                  }\n                  if (columnIndex === 3) {\n                    return `${sumNum(data, 'number')} 本`\n                  } else if (columnIndex === 4) {\n                    return `共 ${countAllAmount(data)} 元`\n                  }\n                  return '-'\n                })\n              ]\n            }\n\n            return {\n              tableData,\n              countAmount,\n              footerMethod\n            }\n          }\n        })\n        "]}}}),p=t(83744);const f=(0,p.Z)(i,[["render",d]]);var s=f}}]);